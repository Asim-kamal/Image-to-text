<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Meta Tags -->
    <title>Image to Text Converter | Free OCR Tool | Extract Text from Images</title>
    <meta name="description" content="Free online OCR tool to extract text from images. Convert photos, screenshots, and scanned documents to editable text instantly. No registration required.">
    <meta name="keywords" content="image to text, OCR tool, text extractor, photo to text, scanned document to text, free OCR, online text converter">
    <meta name="author" content="ImageToTextConverter">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Free Image to Text Converter | Extract Text from Photos & Scanned Documents">
    <meta property="og:description" content="Convert images to editable text in seconds. Our free OCR tool extracts text from photos, screenshots, and scanned documents with high accuracy.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://imagetotextconverter.com/">
    <meta property="og:image" content="https://imagetotextconverter.com/preview.jpg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free Online Image to Text Converter">
    <meta name="twitter:description" content="Extract text from images instantly with our powerful OCR technology. Perfect for digitizing documents, receipts, and screenshots.">
    <meta name="twitter:image" content="https://imagetotextconverter.com/twitter-preview.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://imagetotextconverter.com/">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“·</text></svg>">
    
    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Image to Text Converter",
      "description": "Free online tool to extract text from images using OCR technology",
      "applicationCategory": "Utility",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "2450"
      }
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4a00e0;
            --secondary: #8e2de2;
            --accent: #ff7e5f;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --gray: #6c757d;
            --success: #28a745;
        }

        body {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.8rem;
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            margin-bottom: 15px;
            background: linear-gradient(to right, #fff, #e0e0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            line-height: 1.2;
        }

        header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 700px;
            margin: 0 auto;
        }

        .breadcrumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 10px 20px;
            margin: 10px auto 20px;
            max-width: max-content;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .breadcrumb a {
            color: white;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }

        .upload-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }

        .editor-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }

        .section-title {
            font-size: 1.6rem;
            margin-bottom: 25px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }

        .upload-area {
            border: 3px dashed var(--secondary);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 25px;
            background: rgba(142, 45, 226, 0.05);
        }

        .upload-area:hover {
            background: rgba(142, 45, 226, 0.1);
            border-color: var(--primary);
        }

        .upload-area i {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .upload-area h2 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 1.4rem;
        }

        .upload-area p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .file-input {
            display: none;
        }

        .image-preview {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 25px;
            background: 
                linear-gradient(45deg, #f0f0f0 25%, transparent 25%, transparent 75%, #f0f0f0 75%),
                linear-gradient(45deg, #f0f0f0 25%, transparent 25%, transparent 75%, #f0f0f0 75%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            min-height: 250px;
            position: relative;
            border: 1px solid #e0e0e0;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            display: none;
        }

        #cameraPreview {
            width: 100%;
            height: 100%;
            display: none;
            object-fit: cover;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(74, 0, 224, 0.4);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(74, 0, 224, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: rgba(74, 0, 224, 0.1);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .text-output {
            flex: 1;
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
            background: white;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .text-output:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 0, 224, 0.2);
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            font-size: 1rem;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-item i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        select, input {
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            font-size: 1rem;
            background: white;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 0, 224, 0.2);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #textColor {
            width: 60px;
            height: 40px;
            padding: 5px;
            border-radius: 8px;
            cursor: pointer;
        }

        .alignment-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .align-btn {
            background: #f0f0ff;
            border: 1px solid #d0d0ff;
            border-radius: 8px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .align-btn:hover {
            background: #e0e0ff;
        }

        .align-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            z-index: 10;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
        }

        .loading-spinner {
            border: 5px solid rgba(74, 0, 224, 0.2);
            border-radius: 50%;
            border-top: 5px solid var(--primary);
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .camera-controls {
            display: none;
            gap: 15px;
            margin-top: 15px;
            justify-content: center;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .no-image {
            text-align: center;
            color: var(--gray);
            padding: 40px 20px;
        }

        .no-image i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #e0e0e0;
        }

        .camera-option {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .seo-content {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .seo-content h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .seo-content h3 {
            color: var(--secondary);
            margin: 25px 0 15px;
            font-size: 1.4rem;
        }

        .seo-content p {
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .seo-content ul {
            padding-left: 30px;
            margin-bottom: 20px;
        }

        .seo-content li {
            margin-bottom: 10px;
        }

        /* Responsive adjustments */
        @media (max-width: 900px) {
            .main-content {
                flex-direction: column;
            }
            
            .upload-section, .editor-section {
                min-width: 100%;
            }
        }

        @media (max-width: 600px) {
            .btn-group, .action-buttons {
                flex-direction: column;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Image to Text Converter</h1>
            <p>Extract text from images instantly with our powerful OCR technology. Perfect for digitizing documents, receipts, and screenshots.</p>
            
            <div class="breadcrumb">
                <a href="#">Home</a> > <a href="#">Tools</a> > <span>Image to Text Converter</span>
            </div>
        </header>

        <div class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <h2 class="section-title"><i class="fas fa-file-image"></i> Input Image</h2>
                
                <div class="camera-option">
                    <button class="btn" id="cameraOption">
                        <i class="fas fa-camera"></i> Take Photo
                    </button>
                </div>
                
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h2>Drag & Drop your image here</h2>
                    <p>or click to browse files</p>
                    <p>Supports JPG, PNG, PDF, WEBP</p>
                </div>
                <input type="file" id="fileInput" class="file-input" accept="image/*">
                
                <div class="image-preview">
                    <div class="no-image" id="noImage">
                        <i class="fas fa-image"></i>
                        <h3>No Image Selected</h3>
                    </div>
                    <img id="previewImage" src="" alt="Image preview for text extraction">
                    <video id="cameraPreview" autoplay playsinline></video>
                    <div class="loading" id="loadingIndicator">
                        <div class="loading-spinner"></div>
                        <p>Processing your image...</p>
                    </div>
                </div>
                
                <div class="camera-controls" id="cameraControls">
                    <button class="btn" id="captureBtn"><i class="fas fa-camera"></i> Capture</button>
                    <button class="btn btn-outline" id="cancelCameraBtn"><i class="fas fa-times"></i> Cancel</button>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="convertBtn"><i class="fas fa-sync-alt"></i> Convert to Text</button>
                    <button class="btn btn-outline" id="clearBtn"><i class="fas fa-trash-alt"></i> Clear</button>
                </div>
            </section>
            
            <!-- Editor Section -->
            <section class="editor-section">
                <h2 class="section-title"><i class="fas fa-file-alt"></i> Extracted Text</h2>
                
                <div class="stats">
                    <div class="stat-item">
                        <i class="fas fa-font"></i>
                        <span>Words: <span id="wordCount">0</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-text-height"></i>
                        <span>Characters: <span id="charCount">0</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-clock"></i>
                        <span>Time: <span id="timeTaken">0s</span></span>
                    </div>
                </div>
                
                <div class="text-output" id="textOutput" contenteditable="true">
                    Extracted text will appear here...
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="fontFamily"><i class="fas fa-font"></i> Font Style</label>
                        <select id="fontFamily">
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Times New Roman', serif">Times New Roman</option>
                            <option value="'Courier New', monospace">Courier New</option>
                            <option value="'Georgia', serif">Georgia</option>
                            <option value="'Verdana', sans-serif">Verdana</option>
                            <option value="'Comic Sans MS', cursive">Comic Sans</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="fontSize"><i class="fas fa-text-height"></i> Font Size</label>
                        <select id="fontSize">
                            <option value="14px">Small</option>
                            <option value="16px" selected>Medium</option>
                            <option value="18px">Large</option>
                            <option value="20px">X-Large</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label><i class="fas fa-palette"></i> Text Color</label>
                        <div class="color-picker">
                            <input type="color" id="textColor" value="#333333">
                            <span id="colorValue">#333333</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label><i class="fas fa-align-left"></i> Text Alignment</label>
                        <div class="alignment-controls">
                            <div class="align-btn active" data-align="left" id="alignLeft">
                                <i class="fas fa-align-left"></i>
                            </div>
                            <div class="align-btn" data-align="center" id="alignCenter">
                                <i class="fas fa-align-center"></i>
                            </div>
                            <div class="align-btn" data-align="right" id="alignRight">
                                <i class="fas fa-align-right"></i>
                            </div>
                            <div class="align-btn" data-align="justify" id="alignJustify">
                                <i class="fas fa-align-justify"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn" id="copyBtn"><i class="fas fa-copy"></i> Copy Text</button>
                    <button class="btn" id="pdfBtn"><i class="fas fa-download"></i> Download as PDF</button>
                    <button class="btn btn-outline" id="shareBtn"><i class="fas fa-share-alt"></i> Share</button>
                </div>
            </section>
        </div>
        
        <!-- SEO Content Section -->
        <section class="seo-content">
            <h2>Free Online Image to Text Converter</h2>
            <p>Our powerful Image to Text Converter allows you to extract text from images, photos, screenshots, and scanned documents in seconds. Using advanced Optical Character Recognition (OCR) technology, our free tool converts image-based text into editable digital text that you can copy, edit, or save as a PDF.</p>
            
            <h3>How to Use Our Image to Text Converter</h3>
            <p>Converting images to text is simple with our user-friendly tool:</p>
            <ol>
                <li><strong>Upload your image</strong> by dragging and dropping it into the upload area or clicking to browse your files</li>
                <li><strong>Take a photo</strong> using your device's camera for instant text extraction</li>
                <li><strong>Click "Convert to Text"</strong> to process your image using OCR technology</li>
                <li><strong>Edit the extracted text</strong> with our formatting tools (font, size, color, alignment)</li>
                <li><strong>Copy, download as PDF, or share</strong> your converted text</li>
            </ol>
            
            <h3>Key Features of Our OCR Tool</h3>
            <ul>
                <li><strong>100% Free:</strong> No registration, no subscriptions, no hidden fees</li>
                <li><strong>High Accuracy:</strong> Advanced OCR technology recognizes text with precision</li>
                <li><strong>Multiple Input Options:</strong> Upload files or capture images directly with your camera</li>
                <li><strong>Text Formatting:</strong> Customize font, size, color, and alignment of extracted text</li>
                <li><strong>Export Options:</strong> Copy text to clipboard or download as PDF</li>
                <li><strong>Privacy Focused:</strong> Your images and text are processed securely and never stored</li>
            </ul>
            
            <h3>Common Use Cases</h3>
            <p>Our Image to Text Converter is perfect for:</p>
            <ul>
                <li>Digitizing printed documents and books</li>
                <li>Extracting text from screenshots and photos</li>
                <li>Converting scanned PDFs to editable text</li>
                <li>Digitizing handwritten notes (for clear handwriting)</li>
                <li>Translating text from images</li>
                <li>Converting receipts and invoices to digital format</li>
                <li>Creating editable versions of business cards</li>
            </ul>
            
            <h3>Why Choose Our Image to Text Converter?</h3>
            <p>Unlike other OCR tools, our converter is completely free with no usage limits. We prioritize user privacy - your images and extracted text are processed in your browser and never uploaded to our servers. Our tool works directly in your browser without requiring any downloads or installations.</p>
            
            <p><strong>Supported File Formats:</strong> JPG, JPEG, PNG, BMP, GIF, WEBP, and PDF files. For best results, use clear, high-contrast images with standard fonts.</p>
        </section>
        
        <footer>
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#">Home</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Contact Us</a>
                    <a href="#">About</a>
                </div>
                <p>Image to Text Converter &copy; 2023 | All Rights Reserved</p>
                <p>This free online tool helps you extract text from images using advanced OCR technology. Convert photos, screenshots, and scanned documents to editable text instantly.</p>
            </div>
        </footer>
    </div>

    <script>
        // DOM Elements
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const previewImage = document.getElementById('previewImage');
        const noImage = document.getElementById('noImage');
        const cameraPreview = document.getElementById('cameraPreview');
        const cameraControls = document.getElementById('cameraControls');
        const convertBtn = document.getElementById('convertBtn');
        const clearBtn = document.getElementById('clearBtn');
        const captureBtn = document.getElementById('captureBtn');
        const cancelCameraBtn = document.getElementById('cancelCameraBtn');
        const textOutput = document.getElementById('textOutput');
        const wordCount = document.getElementById('wordCount');
        const charCount = document.getElementById('charCount');
        const timeTaken = document.getElementById('timeTaken');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const fontFamily = document.getElementById('fontFamily');
        const fontSize = document.getElementById('fontSize');
        const textColor = document.getElementById('textColor');
        const colorValue = document.getElementById('colorValue');
        const cameraOption = document.getElementById('cameraOption');
        const copyBtn = document.getElementById('copyBtn');
        const pdfBtn = document.getElementById('pdfBtn');
        
        // Alignment buttons
        const alignLeft = document.getElementById('alignLeft');
        const alignCenter = document.getElementById('alignCenter');
        const alignRight = document.getElementById('alignRight');
        const alignJustify = document.getElementById('alignJustify');
        
        // State variables
        let currentImage = null;
        let stream = null;
        
        // Initialize the app
        function init() {
            // Set up event listeners
            setupEventListeners();
            updateTextStats();
        }
        
        function setupEventListeners() {
            // File upload
            uploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileSelect);
            
            // Camera option
            cameraOption.addEventListener('click', startCamera);
            
            // Camera controls
            captureBtn.addEventListener('click', captureImage);
            cancelCameraBtn.addEventListener('click', stopCamera);
            
            // Conversion button
            convertBtn.addEventListener('click', convertImageToText);
            
            // Clear button
            clearBtn.addEventListener('click', clearAll);
            
            // Text styling
            fontFamily.addEventListener('change', updateTextStyle);
            fontSize.addEventListener('change', updateTextStyle);
            textColor.addEventListener('input', updateTextStyle);
            
            // Text alignment
            alignLeft.addEventListener('click', () => setAlignment('left'));
            alignCenter.addEventListener('click', () => setAlignment('center'));
            alignRight.addEventListener('click', () => setAlignment('right'));
            alignJustify.addEventListener('click', () => setAlignment('justify'));
            
            // Copy button
            copyBtn.addEventListener('click', copyText);
            
            // PDF button
            pdfBtn.addEventListener('click', downloadPDF);
            
            // Drag and drop
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--primary)';
                uploadArea.style.backgroundColor = 'rgba(142, 45, 226, 0.1)';
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.borderColor = 'var(--secondary)';
                uploadArea.style.backgroundColor = 'rgba(142, 45, 226, 0.05)';
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--secondary)';
                uploadArea.style.backgroundColor = 'rgba(142, 45, 226, 0.05)';
                
                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    handleFileSelect(e);
                }
            });
            
            // Text output content change
            textOutput.addEventListener('input', updateTextStats);
        }
        
        function handleFileSelect(e) {
            const file = e.target.files?.[0] || e.dataTransfer.files?.[0];
            if (!file) return;
            
            // Check if file is an image
            if (!file.type.match('image.*')) {
                alert('Please select an image file (jpg, png, gif)');
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                displayImage(e.target.result);
            }
            
            reader.readAsDataURL(file);
        }
        
        function displayImage(imageData) {
            currentImage = imageData;
            previewImage.src = imageData;
            previewImage.style.display = 'block';
            noImage.style.display = 'none';
            cameraPreview.style.display = 'none';
            
            // Hide camera controls if visible
            cameraControls.style.display = 'none';
        }
        
        function startCamera() {
            stopCamera(); // Stop any existing stream
            
            navigator.mediaDevices.getUserMedia({ 
                video: { 
                    facingMode: 'environment' // Prefer rear camera
                } 
            })
            .then(function(s) {
                stream = s;
                cameraPreview.srcObject = stream;
                cameraPreview.style.display = 'block';
                previewImage.style.display = 'none';
                noImage.style.display = 'none';
                cameraControls.style.display = 'flex';
            })
            .catch(function(err) {
                console.error("Camera error: ", err);
                alert('Could not access the camera. Please check permissions and try again.');
            });
        }
        
        function stopCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
            cameraPreview.style.display = 'none';
            cameraControls.style.display = 'none';
        }
        
        function captureImage() {
            const canvas = document.createElement('canvas');
            canvas.width = cameraPreview.videoWidth;
            canvas.height = cameraPreview.videoHeight;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(cameraPreview, 0, 0, canvas.width, canvas.height);
            
            displayImage(canvas.toDataURL('image/jpeg'));
            stopCamera();
        }
        
        function convertImageToText() {
            if (!currentImage) {
                alert('Please select an image first');
                return;
            }
            
            // Show loading indicator
            loadingIndicator.style.display = 'flex';
            const startTime = new Date();
            
            // Use Tesseract.js for OCR
            Tesseract.recognize(
                currentImage,
                'eng', // Language
                { logger: m => console.log(m) }
            ).then(({ data: { text } }) => {
                // Update text output
                textOutput.innerText = text;
                updateTextStats();
                
                // Calculate processing time
                const endTime = new Date();
                const seconds = ((endTime - startTime) / 1000).toFixed(1);
                timeTaken.textContent = seconds + 's';
                
                // Hide loading indicator
                loadingIndicator.style.display = 'none';
            }).catch(err => {
                console.error("OCR error: ", err);
                alert('Error processing image. Please try another image.');
                loadingIndicator.style.display = 'none';
            });
        }
        
        function updateTextStats() {
            const text = textOutput.innerText;
            
            // Word count (simple method)
            const words = text.trim() ? text.trim().split(/\s+/).length : 0;
            wordCount.textContent = words;
            
            // Character count
            charCount.textContent = text.length;
        }
        
        function updateTextStyle() {
            textOutput.style.fontFamily = fontFamily.value;
            textOutput.style.fontSize = fontSize.value;
            textOutput.style.color = textColor.value;
            colorValue.textContent = textColor.value;
        }
        
        function setAlignment(alignment) {
            // Update active button
            document.querySelectorAll('.align-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            switch(alignment) {
                case 'left':
                    alignLeft.classList.add('active');
                    break;
                case 'center':
                    alignCenter.classList.add('active');
                    break;
                case 'right':
                    alignRight.classList.add('active');
                    break;
                case 'justify':
                    alignJustify.classList.add('active');
                    break;
            }
            
            // Apply alignment
            textOutput.style.textAlign = alignment;
        }
        
        function copyText() {
            if (textOutput.innerText === 'Extracted text will appear here...') {
                alert('No text to copy');
                return;
            }
            
            navigator.clipboard.writeText(textOutput.innerText)
                .then(() => {
                    // Show success feedback
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy Text';
                    }, 2000);
                })
                .catch(err => {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy text. Please try again.');
                });
        }
        
        function downloadPDF() {
            if (textOutput.innerText === 'Extracted text will appear here...') {
                alert('No text to download');
                return;
            }
            
            // Use jsPDF to create PDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Set document properties
            doc.setProperties({
                title: 'Extracted Text',
                subject: 'Text extracted from image',
                author: 'Image to Text Converter'
            });
            
            // Set font
            doc.setFont(fontFamily.value.split(',')[0].replace(/'/g, ''));
            doc.setFontSize(parseInt(fontSize.value));
            doc.setTextColor(textColor.value);
            
            // Split text into lines
            const text = textOutput.innerText;
            const pageWidth = doc.internal.pageSize.getWidth();
            const pageHeight = doc.internal.pageSize.getHeight();
            const margin = 15;
            const lineHeight = doc.getLineHeight() / doc.internal.scaleFactor;
            
            let y = margin;
            let lines = doc.splitTextToSize(text, pageWidth - 2 * margin);
            
            // Add each line to the PDF
            for (let i = 0; i < lines.length; i++) {
                if (y + lineHeight > pageHeight - margin) {
                    doc.addPage();
                    y = margin;
                }
                doc.text(lines[i], margin, y);
                y += lineHeight;
            }
            
            // Download the PDF
            doc.save('extracted-text.pdf');
            
            // Show success feedback
            pdfBtn.innerHTML = '<i class="fas fa-check"></i> Downloaded!';
            setTimeout(() => {
                pdfBtn.innerHTML = '<i class="fas fa-download"></i> Download as PDF';
            }, 2000);
        }
        
        function clearAll() {
            // Reset image preview
            previewImage.src = '';
            previewImage.style.display = 'none';
            cameraPreview.style.display = 'none';
            noImage.style.display = 'block';
            currentImage = null;
            
            // Reset text output
            textOutput.innerText = 'Extracted text will appear here...';
            updateTextStats();
            timeTaken.textContent = '0s';
            
            // Reset alignment to left
            setAlignment('left');
            
            // Stop camera if active
            stopCamera();
        }
        
        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>